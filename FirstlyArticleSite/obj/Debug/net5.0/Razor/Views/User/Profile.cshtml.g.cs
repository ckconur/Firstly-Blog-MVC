#pragma checksum "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\User\Profile.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "cfea55e3a5537bfb2765bafa1a66704af07c2a58"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_User_Profile), @"mvc.1.0.view", @"/Views/User/Profile.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\_ViewImports.cshtml"
using FirstlyArticleSite.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"cfea55e3a5537bfb2765bafa1a66704af07c2a58", @"/Views/User/Profile.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"fc53067ee0ec1c16c531a1c8dde20d9b3911f10b", @"/Views/_ViewImports.cshtml")]
    public class Views_User_Profile : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<UserVM>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\User\Profile.cshtml"
  
    ViewData["Title"] = "Profile";
    Layout = "~/Views/Shared/_LoginLayout.cshtml";

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<section class=\"row\">\r\n    <input type=\"hidden\"");
            BeginWriteAttribute("value", " value=\"", 159, "\"", 180, 1);
#nullable restore
#line 8 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\User\Profile.cshtml"
WriteAttributeValue("", 167, Model.UserId, 167, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" id=""userId""/>
    <div class=""col-xl-7 mx-auto"">
        <div class=""mb-3 row"">
            <div class=""col-sm-10"">
                <label for=""email"" class=""col-sm-2 col-form-label"">Email</label>
                <input type=""email"" class=""form-control"" id=""email""");
            BeginWriteAttribute("value", " value=\"", 451, "\"", 471, 1);
#nullable restore
#line 13 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\User\Profile.cshtml"
WriteAttributeValue("", 459, Model.Email, 459, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
            </div>
        </div>
        <div class=""mb-3 row"">
            <div class=""col-sm-10"">
                <label for=""firstName"" class=""col-sm-2 col-form-label"">Ad</label>

                <input type=""text"" class=""form-control"" id=""firstName""");
            BeginWriteAttribute("value", " value=\"", 735, "\"", 759, 1);
#nullable restore
#line 20 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\User\Profile.cshtml"
WriteAttributeValue("", 743, Model.FirstName, 743, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
            </div>
        </div>
        <div class=""mb-3 row"">
            <div class=""col-sm-10"">
                <label for=""lastName"" class=""col-sm-2 col-form-label"">Soyad</label>
                <input type=""text"" class=""form-control"" id=""lastName""");
            BeginWriteAttribute("value", " value=\"", 1022, "\"", 1045, 1);
#nullable restore
#line 26 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\User\Profile.cshtml"
WriteAttributeValue("", 1030, Model.LastName, 1030, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
            </div>
        </div>
        <div class=""mb-3 row"">
            <div class=""col-sm-10"">
                <label for=""userName"" class=""col-sm-2 col-form-label"">Kullanıcı Adı</label>
                <input type=""text"" class=""form-control"" id=""userName""");
            BeginWriteAttribute("value", " value=\"", 1316, "\"", 1339, 1);
#nullable restore
#line 32 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\User\Profile.cshtml"
WriteAttributeValue("", 1324, Model.UserName, 1324, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
            </div>
        </div>
        <div class=""mb-3 row"">
            <div class=""col-sm-10"">
                <label for=""aboutMe"" class=""col-sm-2 col-form-label"">Hakkımda</label>
                <input type=""text"" class=""form-control"" id=""aboutMe""");
            BeginWriteAttribute("value", " value=\"", 1603, "\"", 1625, 1);
#nullable restore
#line 38 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\User\Profile.cshtml"
WriteAttributeValue("", 1611, Model.AboutMe, 1611, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n            </div>\r\n        </div>\r\n        <div class=\"mb-3 row\">\r\n            <div class=\"col-sm-10\">\r\n                <label for=\"URL\" class=\"col-sm-2 col-form-label\">URL</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"URL\"");
            BeginWriteAttribute("value", " value=\"", 1876, "\"", 1894, 1);
#nullable restore
#line 44 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\User\Profile.cshtml"
WriteAttributeValue("", 1884, Model.Url, 1884, 10, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n            </div>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n            <img class=\"mb-3 border\" style=\"max-height:100px; max-width:100px;\"");
            BeginWriteAttribute("src", " src=\"", 2041, "\"", 2068, 1);
#nullable restore
#line 48 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\User\Profile.cshtml"
WriteAttributeValue("", 2047, Model.ProfilePicture, 2047, 21, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" id=""currentPP"" />
            <label for=""profilePicture"" class=""form-label"">Profil Fotoğrafı</label>
            <input class=""form-control"" size=""2"" style=""max-width:700px"" accept=""image/png"" id=""profilePicture"" type=""file"">
        </div>
        <div class=""mb-3 d-grid"">
            <button class=""btn btn-dark btn-lg"" style=""max-width:700px"" id=""btnUpdate"">Profili Güncelle</button>
        </div>
        <div class=""mb-3 d-grid"">
            <button class=""btn btn-danger btn-lg"" style=""max-width:700px"" id=""btnDelete"">Profili Sil</button>
        </div>
        <div class=""alert alert-warning mb-3"" role=""alert"" id=""successAlert"">
        </div>
    </div>
</section>

");
            DefineSection("scripts", async() => {
                WriteLiteral(@" 
    <script>
        const ppInput = document.getElementById('profilePicture');
        ppInput.addEventListener('change', handleFiles, false);

        function handleFiles() {
            if (!this.files.length) {
                console.log(""No files selected!"");
            }
            else {
                const imgArea = document.getElementById('currentPP');
                imgArea.src = '#';
                imgArea.src = URL.createObjectURL(this.files[0]);
            }
        }

        function getBase64Image() {
            let imgArea = document.getElementById('currentPP');
            var canvas = document.createElement('canvas');
            canvas.width = imgArea.naturalWidth;
            canvas.height = imgArea.naturalHeight;
            var ctx = canvas.getContext('2d');
            ctx.drawImage(imgArea, 0, 0);
            var dataURL = canvas.toDataURL(""image/png"");
            return dataURL.replace(/^data:image\/(png|jpg);base64,/, """");
        }

        $");
                WriteLiteral(@"(""#btnUpdate"").click(function () {
            var user = {
                userId: $('#userId').val(),
                email: $(""#email"").val(),
                firstName: $(""#firstName"").val(),
                lastName: $(""#lastName"").val(),
                userName: $(""#userName"").val(),
                aboutMe: $(""#aboutMe"").val(),
                url: $(""#URL"").val(),
                profilePicture: getBase64Image(),
            };

            updateUser(user);
        });

        $('#btnDelete').click(function () {
            deleteUser(");
#nullable restore
#line 106 "D:\Ders\BilgeAdam\Gizem Hoca\Ödevler\FistlyBlogMVC\FirstlyBlog\FirstlyArticleSite\Views\User\Profile.cshtml"
                  Write(Model.UserId);

#line default
#line hidden
#nullable disable
                WriteLiteral(@");
        })

        function updateUser(user) {
            $.ajax({
                url: ""/User/UpdateProfile/"",
                type: ""POST"",
                data: user,
                success: function (response) {
                    $('#successAlert').html(response);

                    console.log(response);
                },
                error: function (error) {
                    console.log(error);
                }
            });
        };

        function deleteUser(id) {
            $.ajax({
                url: ""/User/DeleteProfile/"" + id,
                type: ""GET"",
                success: function (response) {
                    $('#successAlert').html(response);
                },
                error: function (error) {
                    console.log(error);
                }
           })
        }

    </script>
");
            }
            );
            WriteLiteral("\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<UserVM> Html { get; private set; }
    }
}
#pragma warning restore 1591
